# 커피 주문 앱

## 1 .프로젝트 개요

### 1.1. 프로젝트명
커피 주문 앱

### 1.2. 프로젝트 목적
사용자가 커피 메뉴를 주문하고, 관리자가 주문을 관리할 수 있는 간단한 풀스택 웹 앱

### 1.3. 개발 범위
- 주문하기 화면(메뉴 선택 및 장바구니 기능)
- 관리자 화면(재고 관리 및 주문 상태 관리)
- 데이터를 생성/조회/수정/삭제할 수 있는 기능

## 2. 기술 스택
- 프론트엔드 : HTML, CSS, 리액트, 자바스크립트
- 백엔드 : Node.js, Express
- 데이터베이스 : PostreSQL

## 3. 기본 사항
- 프론트엔트와 백엔드를 따로 개발
- 기본적인 웹 기술만 사용
- 학습 목적이므로 사용자 인증이나 결제 기능은 제외
- 메뉴는 커피 메뉴만 있음.

---

## 4. 프런트엔드 UI 요구사항

### 4.1. 주문하기 화면

#### 4.1.1. 화면 개요
- 사용자가 커피 메뉴를 선택하고 옵션을 추가하여 장바구니에 담은 후 주문할 수 있는 화면
- 메뉴 목록과 장바구니를 동시에 볼 수 있는 구조

#### 4.1.2. 화면 구성요소

##### (1) 헤더 영역
- **브랜드 로고**: "COZY" 텍스트 로고 좌측 상단 배치
- **네비게이션 메뉴**:
  - "주문하기" 탭: 현재 화면
  - "관리자" 탭: 관리자 화면으로 이동

##### (2) 메뉴 목록 영역
- **레이아웃**: 그리드 형태로 메뉴 카드 배치 (1행에 3개)
- **메뉴 카드 구성**:
  - 메뉴 이미지 영역 (placeholder)
  - 메뉴명: 예) "아메리카노(ICE)", "아메리카노(HOT)", "카페라떼"
  - 가격: 예) "4,000원", "5,000원"
  - 간단한 설명: "간단한 설명..."
  - **옵션 선택**:
    - 샷 추가 체크박스 (+500원)
    - 시럽 추가 체크박스 (가격 변동 없음 또는 별도 금액)
  - "담기" 버튼: 선택한 메뉴와 옵션을 장바구니에 추가

##### (3) 장바구니 영역
- **제목**: "장바구니"
- **주문 내역 목록**:
  - 각 항목에 다음 정보 표시:
    - 메뉴명 (선택한 옵션 표시) 예) "아메리카노(ICE) (샷 추가)"
    - 수량 표시: "X 1", "X 2" 등
    - 항목별 가격: 예) "4,500원", "8,000원"
- **총 금액 표시**:
  - "총 금액" 레이블과 합계 금액 강조 표시
  - 예) "총 금액 12,500원"
- **주문하기 버튼**:
  - 장바구니 하단에 배치
  - 클릭 시 주문 완료 처리

#### 4.1.3. 기능 요구사항

##### (1) 메뉴 선택 기능
- 메뉴 목록을 백엔드 API에서 조회하여 표시
- 각 메뉴의 이름, 가격, 설명을 표시
- 메뉴 이미지는 placeholder 사용

##### (2) 옵션 선택 기능
- 각 메뉴마다 추가 옵션 선택 가능
- 샷 추가: +500원
- 시럽 추가: 가격 변동 표시 (+0원 또는 별도 금액)
- 체크박스로 옵션 선택/해제

##### (3) 장바구니 담기 기능
- "담기" 버튼 클릭 시 선택한 메뉴와 옵션을 장바구니에 추가
- 동일한 메뉴+옵션 조합이 있을 경우 수량 증가
- 장바구니 상태는 클라이언트 측에서 관리 (React state)

##### (4) 장바구니 표시 기능
- 장바구니에 담긴 항목 목록 실시간 표시
- 각 항목의 메뉴명, 옵션, 수량, 가격 표시
- 총 금액 자동 계산 및 표시

##### (5) 주문 완료 기능
- "주문하기" 버튼 클릭 시 장바구니 내역을 백엔드로 전송
- 주문 완료 후 장바구니 초기화
- 주문 완료 알림 표시 (alert 또는 toast 메시지)

#### 4.1.4. UI/UX 요구사항
- **반응형 디자인**: 다양한 화면 크기 지원 (선택사항)
- **직관적인 인터페이스**: 간단한 클릭과 체크로 주문 완료
- **실시간 피드백**: 장바구니에 담기면 즉시 반영
- **가격 계산**: 옵션 선택 시 최종 가격이 자동으로 계산되어 표시
- **버튼 상태**: 장바구니가 비어있을 때 "주문하기" 버튼 비활성화 고려

#### 4.1.5. 데이터 흐름
1. 페이지 로드 시 백엔드에서 메뉴 목록 조회 (GET /api/menus)
2. 사용자가 메뉴와 옵션 선택 후 "담기" 클릭
3. 선택한 항목이 프런트엔드 상태(장바구니)에 추가
4. 장바구니 UI가 실시간으로 업데이트
5. "주문하기" 클릭 시 장바구니 데이터를 백엔드로 전송 (POST /api/orders)
6. 주문 완료 응답 받으면 장바구니 초기화 및 완료 메시지 표시

---

### 4.2. 관리자 화면

#### 4.2.1. 화면 개요
- 관리자가 메뉴 재고를 관리하고 주문을 처리할 수 있는 화면
- 대시보드, 재고 관리, 주문 관리를 한 화면에서 통합 관리

#### 4.2.2. 화면 구성요소

##### (1) 헤더 영역
- **브랜드 로고**: "COZY" 텍스트 로고 좌측 상단 배치
- **네비게이션 메뉴**:
  - "주문하기" 탭: 주문하기 화면으로 이동
  - "관리자" 탭: 현재 화면

##### (2) 관리자 대시보드
- **제목**: "관리자 대시보드"
- **통계 정보**:
  - 총 주문 수: 전체 주문 개수
  - 주문 접수: 접수 대기 중인 주문 개수
  - 제조 중: 현재 제조 중인 주문 개수
  - 제조 완료: 완료된 주문 개수
- **표시 형식**: "총 주문 1 / 주문 접수 1 / 제조 중 0 / 제조 완료 0"

##### (3) 재고 현황 영역
- **제목**: "재고 현황"
- **재고 카드 레이아웃**: 그리드 형태로 메뉴별 재고 카드 배치 (1행에 3개)
- **재고 카드 구성**:
  - 메뉴명: 예) "아메리카노 (ICE)", "아메리카노 (HOT)", "카페라떼"
  - 현재 재고 수량: 예) "10개"
  - **재고 조정 버튼**:
    - "+" 버튼: 재고 1개 증가
    - "-" 버튼: 재고 1개 감소

##### (4) 주문 현황 영역
- **제목**: "주문 현황"
- **주문 목록**:
  - 각 주문 항목에 다음 정보 표시:
    - 주문 시간: 예) "7월 31일 13:00"
    - 주문 내역: 예) "아메리카노(ICE) x 1"
    - 주문 금액: 예) "4,000원"
    - **주문 처리 버튼**: 현재 주문 상태에 따라 다른 버튼 표시
      - "주문 접수" 버튼: 신규 주문을 접수 처리
      - 제조 중 상태로 변경 가능
      - 제조 완료 상태로 변경 가능

#### 4.2.3. 기능 요구사항

##### (1) 대시보드 통계 표시
- 페이지 로드 시 백엔드에서 주문 통계 조회
- 실시간으로 주문 상태별 개수 표시
- 새로운 주문이 들어오거나 상태가 변경되면 자동 업데이트 (폴링 또는 WebSocket)

##### (2) 재고 관리 기능
- 백엔드에서 메뉴별 재고 정보 조회 (GET /api/inventory)
- "+" 버튼 클릭 시:
  - 해당 메뉴의 재고 1개 증가
  - 백엔드로 재고 증가 요청 (PATCH /api/inventory/:menuId)
  - UI 즉시 업데이트
- "-" 버튼 클릭 시:
  - 해당 메뉴의 재고 1개 감소
  - 재고가 0개일 경우 감소 불가 (버튼 비활성화 또는 알림)
  - 백엔드로 재고 감소 요청 (PATCH /api/inventory/:menuId)
  - UI 즉시 업데이트

##### (3) 주문 목록 조회 기능
- 백엔드에서 전체 주문 목록 조회 (GET /api/orders)
- 주문 시간 기준 최신순으로 정렬 표시
- 주문 상태별 필터링 옵션 (선택사항)

##### (4) 주문 상태 관리 기능
- 주문 상태 변경 버튼 클릭 시:
  - 현재 상태: "접수 대기" → "주문 접수" 버튼 클릭 → "제조 중" 상태로 변경
  - 현재 상태: "제조 중" → 다음 단계 버튼 클릭 → "제조 완료" 상태로 변경
  - 백엔드로 상태 변경 요청 (PATCH /api/orders/:orderId)
  - 성공 시 UI 업데이트 및 대시보드 통계 갱신

##### (5) 실시간 업데이트 (선택사항)
- 새로운 주문이 들어올 때 자동으로 주문 목록 갱신
- 폴링 방식 (주기적으로 서버에 요청) 또는 WebSocket 활용
- 대시보드 통계도 실시간 갱신

#### 4.2.4. UI/UX 요구사항
- **한눈에 파악 가능한 대시보드**: 주요 지표를 상단에 명확하게 표시
- **직관적인 재고 관리**: +/- 버튼으로 간편한 재고 조정
- **명확한 주문 상태**: 현재 주문 상태를 쉽게 확인 가능
- **실시간 피드백**: 재고 및 주문 상태 변경 시 즉시 UI 반영
- **에러 처리**: 재고 부족, 네트워크 오류 등에 대한 사용자 알림
- **버튼 상태**: 재고가 0일 때 "-" 버튼 비활성화

#### 4.2.5. 데이터 흐름

##### 재고 관리 흐름
1. 페이지 로드 시 백엔드에서 재고 정보 조회 (GET /api/inventory)
2. 관리자가 "+/-" 버튼 클릭
3. 프런트엔드에서 낙관적 업데이트로 UI 즉시 변경
4. 백엔드로 재고 변경 요청 (PATCH /api/inventory/:menuId)
5. 성공 시 변경 사항 확정, 실패 시 이전 상태로 롤백

##### 주문 관리 흐름
1. 페이지 로드 시 백엔드에서 주문 목록 및 통계 조회 (GET /api/orders)
2. 관리자가 주문 상태 변경 버튼 클릭
3. 백엔드로 상태 변경 요청 (PATCH /api/orders/:orderId)
4. 성공 시 주문 목록 및 대시보드 통계 갱신
5. 실패 시 에러 메시지 표시

##### 실시간 업데이트 흐름 (선택사항)
1. 일정 주기(예: 5초)마다 주문 목록 및 통계 폴링
2. 새로운 주문이 감지되면 UI 자동 갱신
3. 알림 또는 시각적 표시로 관리자에게 알림